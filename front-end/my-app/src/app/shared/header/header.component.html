<header
  class="fixed top-0 left-0 w-screen flex items-center justify-between px-9 py-4 z-50 shadow-[0_20px_30px_0_#5C00BF]"
  style="background: rgba(92,0,191,0.9);"
>
  <a routerLink="/home"
     class="text-3xl font-press text-[#FF8600] hover:opacity-80">
    {{ 'HEADER.TITLE' | translate }}
  </a>

  <div class="flex items-center space-x-8">
    <nav class="flex space-x-6">
      <a routerLink="/challenge" class="text-lg text-[#FF8600] hover:text-white">
        {{ 'HEADER.CHALLENGE' | translate }}
      </a>
      <a routerLink="/about" class="text-lg text-[#FF8600] hover:text-white">
        {{ 'HEADER.ABOUT' | translate }}
      </a>
      <a routerLink="/contact" class="text-lg text-[#FF8600] hover:text-white">
        {{ 'HEADER.CONTACT' | translate }}
      </a>
      <a *ngIf="isLoggedIn" routerLink="/dashboard"
         class="text-lg text-[#FF8600] hover:text-white">
        {{ 'HEADER.DASHBOARD' | translate }}
      </a>
    </nav>

    <!-- Desktop controls -->
    <div class="hidden lg:flex items-center space-x-4 ml-8">
      <select (change)="switchLang($any($event.target).value)"
              class="px-2 py-1 border border-[#FF8600] rounded bg-[#AEB8FE] text-[#FF8600]">
        <option value="fr" [selected]="lang.currentLang==='fr'">FR</option>
        <option value="en" [selected]="lang.currentLang==='en'">EN</option>
      </select>

      <button *ngIf="showAuthButtons" routerLink="/auth/login"
              class="w-24 border border-[#FF8600] text-[#FF8600] px-4 py-1 rounded hover:bg-[#FF8600] hover:text-white">
        {{ 'HEADER.LOGIN' | translate }}
      </button>
      <button *ngIf="showAuthButtons" routerLink="/auth/signup"
              class="w-24 border border-[#FF8600] text-[#FF8600] px-4 py-1 rounded hover:bg-[#FF8600] hover:text-white">
        {{ 'HEADER.SIGNUP' | translate }}
      </button>

      <img *ngIf="isLoggedIn" [src]="defaultAvatar" alt="Avatar"
           class="w-8 h-8 rounded-full mr-2" />

      <a *ngIf="isLoggedIn" routerLink="/settings" title="Settings" class="mr-2">
        <img src="assets/icons/settings.svg" alt="Settings"
             class="w-6 h-6 hover:opacity-80" />
      </a>

      <button *ngIf="isLoggedIn" (click)="onLogout()"
              class="w-24 border border-red-500 text-red-500 px-4 py-1 rounded hover:bg-red-500 hover:text-white">
        {{ 'HEADER.LOGOUT' | translate }}
      </button>
    </div>

    <!-- Mobile toggle -->
    <button class="lg:hidden" (click)="toggleMenu()">
      <!-- icône burger ici -->
      <svg class="w-6 h-6 text-white"><!-- … --></svg>
    </button>
  </div>
</header>

<!-- Mobile dropdown -->
<div *ngIf="menuOpen"
     class="absolute top-full left-0 w-full bg-[rgba(92,0,191,0.95)] lg:hidden flex flex-col px-6 py-4 space-y-4">
  <a routerLink="/challenge" (click)="toggleMenu()" class="text-lg text-white">
    {{ 'HEADER.CHALLENGE' | translate }}
  </a>
  <a routerLink="/about" (click)="toggleMenu()" class="text-lg text-white">
    {{ 'HEADER.ABOUT' | translate }}
  </a>
  <a routerLink="/contact" (click)="toggleMenu()" class="text-lg text-white">
    {{ 'HEADER.CONTACT' | translate }}
  </a>
  <a *ngIf="isLoggedIn" routerLink="/dashboard" (click)="toggleMenu()"
     class="text-lg text-white">
    {{ 'HEADER.DASHBOARD' | translate }}
  </a>
  <div class="flex items-center space-x-4">
    <select (change)="switchLang($any($event.target).value)"
            class="px-2 py-1 border border-[#FF8600] rounded bg-[#AEB8FE] text-[#FF8600]">
      <option value="fr" [selected]="lang.currentLang==='fr'">FR</option>
      <option value="en" [selected]="lang.currentLang==='en'">EN</option>
    </select>
    <button *ngIf="showAuthButtons" routerLink="/auth/login" (click)="toggleMenu()"
            class="w-full border border-[#FF8600] text-[#FF8600] py-1 rounded hover:bg-[#FF8600] hover:text-white">
      {{ 'HEADER.LOGIN' | translate }}
    </button>
    <button *ngIf="showAuthButtons" routerLink="/auth/signup" (click)="toggleMenu()"
            class="w-full border border-[#FF8600] text-[#FF8600] py-1 rounded hover:bg-[#FF8600] hover:text-white">
      {{ 'HEADER.SIGNUP' | translate }}
    </button>
    <button *ngIf="isLoggedIn" (click)="onLogout()" class="w-full text-left text-red-500">
      {{ 'HEADER.LOGOUT' | translate }}
    </button>
  </div>
</div>
