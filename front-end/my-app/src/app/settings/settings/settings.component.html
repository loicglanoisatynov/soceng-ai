<!-- On bind un seul input `profile` au profil complet -->
<app-profile-hero *ngIf="profile" [profile]="profile"></app-profile-hero>

<div class="container mx-auto mt-[1rem] px-6">
  <div class="bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col lg:flex-row">
    <div class="lg:w-1/3 hidden lg:block"></div>
    <div class="lg:w-2/3 ml-auto p-8 space-y-8">

      <!-- Profil public -->
      <div>
        <h2 class="font-['Press_Start_2P'] text-2xl text-[#2E2E2E] mb-4">
          {{ 'SETTINGS.PROFILE_TITLE' | translate }}
        </h2>
        <form ngNoForm [formGroup]="profileForm" (ngSubmit)="onSaveProfile()" class="space-y-4 font-['OCR_A_Std_Regular'] text-[#2E2E2E]">
          <div>
            <label class="block mb-1">{{ 'SETTINGS.USERNAME' | translate }}</label>
            <input formControlName="username" class="w-full border border-[#AEB8FE] rounded-lg p-2 focus:ring-2 focus:ring-[#FF8600]" />
          </div>
          <div>
            <label class="block mb-1">{{ 'SETTINGS.BIOGRAPHY' | translate }}</label>
            <textarea formControlName="biography" rows="4" class="w-full border border-[#AEB8FE] rounded-lg p-2 focus:ring-2 focus:ring-[#FF8600]"></textarea>
          </div>
          <div>
            <label class="block mb-1">{{ 'SETTINGS.AVATAR' | translate }}</label>
            <input type="file" (change)="onFileSelected($event)" class="block" />
          </div>
          <button type="submit" class="w-full mt-4 bg-[#FF8600] text-white py-2 rounded-lg hover:opacity-90 disabled:opacity-50" [disabled]="profileForm.pristine">
            {{ 'SETTINGS.SAVE_PROFILE' | translate }}
          </button>
        </form>
      </div>

      <!-- Identifiants -->
      <div>
        <h2 class="font-['Press_Start_2P'] text-2xl text-[#2E2E2E] mb-4">
          {{ 'SETTINGS.CREDENTIALS_TITLE' | translate }}
        </h2>
        <form ngNoForm [formGroup]="credentialsForm" (ngSubmit)="onSaveCredentials()" class="space-y-4 font-['OCR_A_Std_Regular'] text-[#2E2E2E]">
          <div>
            <label class="block mb-1">{{ 'SETTINGS.EMAIL' | translate }}</label>
            <input formControlName="email" type="email" class="w-full border border-[#AEB8FE] rounded-lg p-2 focus:ring-2 focus:ring-[#FF8600]" />
          </div>
          <div>
            <label class="block mb-1">{{ 'SETTINGS.CURRENT_PASSWORD' | translate }}</label>
            <input formControlName="password" type="password" class="w-full border border-[#AEB8FE] rounded-lg p-2 focus:ring-2 focus:ring-[#FF8600]" />
          </div>
          <div>
            <label class="block mb-1">{{ 'SETTINGS.NEW_PASSWORD' | translate }}</label>
            <input formControlName="newpassword" type="password" class="w-full border border-[#AEB8FE] rounded-lg p-2 focus:ring-2 focus:ring-[#FF8600]" />
          </div>
          <button type="submit" class="w-full mt-4 bg-[#FF8600] text-white py-2 rounded-lg hover:opacity-90 disabled:opacity-50" [disabled]="credentialsForm.pristine">
            {{ 'SETTINGS.SAVE_CREDENTIALS' | translate }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>